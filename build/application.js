// Generated by CoffeeScript 1.6.1
(function() {
  'use-strict';
  var initialize_extension, loadRelators;

  initialize_extension = function() {
    var sign_up_view;
    if (!localStorage["registered"] && localStorage["registered_user_id"] !== null) {
      sign_up_view = new SignupView();
      return $("body").html(sign_up_view.render().$el);
    } else {
      return loadRelators(localStorage["registered_user_id"]);
    }
  };

  document.addEventListener("DOMContentLoaded", initialize_extension);

  loadRelators = function(user_id) {
    var relater_collection;
    relater_collection = new RelaterCollection({
      "user_id": user_id
    });
    return relater_collection.fetch({
      success: function() {
        var relater_collection_view;
        relater_collection_view = new RelatersCollectionView({
          "collection": relater_collection
        });
        return $("body").html(relater_collection_view.render().el);
      }
    });
  };

}).call(this);
