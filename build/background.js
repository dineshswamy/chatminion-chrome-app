// Generated by CoffeeScript 1.6.1
(function() {
  var base_url, dissectRecievedMessage, getTransformedMessage, message_to_send, messages_with_options, notificationandTTS, sendMessage, user_to_send;

  base_url = "http://localhost:3000";

  user_to_send = null;

  message_to_send = null;

  messages_with_options = [];

  chrome.app.runtime.onLaunched.addListener(function() {
    return chrome.app.window.create("../popup.html", {
      bounds: {
        width: 360,
        height: 300,
        left: 600
      },
      minWidth: 220,
      minHeight: 220
    });
  });

  sendMessage = function() {
    var data;
    data = {
      "sender": user_to_send.id,
      "channel_id": user_to_send.channel_id,
      "message": message_to_send.user_message
    };
    return $.post(base_url + "/calltheteam/sendmessage", data, null);
  };

  notificationandTTS = function(notification_title, notification_message) {
    var notification;
    notification = webkitNotifications.createNotification(null, notification_title, notification_message);
    return notification.show();
  };

  chrome.pushMessaging.onMessage.addListener(dissectRecievedMessage);

  getTransformedMessage = function() {
    var message_transform_helper, transform_pattern;
    message_transform_helper = new MessageTransformation();
    transform_pattern = "@@1 is looking for you @@2 . @@1 he is always available @@3 . okay @@4 shut up";
    message_transform_helper.init(transform_pattern, "dinesh", "ganesh", "barath", "kumar", "could be replaced");
    message_transform_helper.applyTransformation();
    return notificationandTTS("Dinesh", message_transform_helper.getMessage());
  };

  getTransformedMessage();

  dissectRecievedMessage = function(message) {};

}).call(this);
