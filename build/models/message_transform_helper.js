// Generated by CoffeeScript 1.6.1
(function() {
  var __slice = [].slice;

  this.MessageTransformation = (function() {

    function MessageTransformation() {}

    MessageTransformation.prototype.init = function() {
      var options, transform_pattern;
      transform_pattern = arguments[0], options = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      this.pattern = transform_pattern;
      return this.options = options;
    };

    MessageTransformation.prototype.setCustomMessage = function(message) {
      return this.custom_message = message;
    };

    MessageTransformation.prototype.applyTransformation = function() {
      var index, option, str_to_search, _i, _len, _ref, _results;
      if (this.pattern !== null) {
        _ref = this.options;
        _results = [];
        for (index = _i = 0, _len = _ref.length; _i < _len; index = ++_i) {
          option = _ref[index];
          index = index + 1;
          str_to_search = new RegExp("@@" + index, 'g');
          _results.push(this.pattern = this.pattern.replace(str_to_search, option));
        }
        return _results;
      } else {
        console.log("went inside this");
        this.pattern = this.options[0] + " says " + this.custom_message;
        return console.log(this.pattern);
      }
    };

    MessageTransformation.prototype.getMessage = function() {
      return this.pattern;
    };

    return MessageTransformation;

  })();

}).call(this);
